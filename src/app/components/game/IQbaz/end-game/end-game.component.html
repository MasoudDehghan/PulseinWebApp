<div [ngStyle]="{'min-height': shared.yWindow.value+'px'}" id="mainDiv"> 
  <div style="position: absolute; top:10px; right: 10px; width: 45px; height: 45px; z-index: 1;">
    <img src="assets/image/game/iqBaz/home.png" 
    style="outline: none; cursor: pointer; height: 100%; width: 100%;"
    [routerLink]="['/Home']">
  </div>
  <div class="row justify-content-md-center justify-content-lg-center justify-content-xl-center clear" style="height: 100%;">
    <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12 clear">

      <div *ngIf="isLoading">
        <loading></loading>
      </div>
      <!--start content strat game level-->
      <div *ngIf="!isLoading" style="width: 100%; min-height: 200px; padding: 5px 0px; text-align: center; color: black;">
      
        <div class="row clear" style="text-align: center; width: 100%; ">
          <!--start pc and tablet-->
          <!--start col 1 pc-->
          <div class="d-none d-md-block col-md-4 col-lg-4 col-xl-4 clear" style="padding: 5px 10px;">
            <div class="divWhiteBlurFix">
              <div style="width: 85%; margin: 0 auto; border-bottom: 1px solid black; padding-top: 25px; padding-bottom: 15px; font-size: 22px; font-weight: bold;">
                <span>رتبه و امتیاز شما</span>
              </div>
              <div style="padding-top: 10px; padding-bottom: 5px; font-size: 16px; font-weight: bold; color: white;">
                <span>رتبه شما</span>
              </div>

              <div style="width: 200px; height: 220px; margin: 0 auto; position: relative; overflow: hidden;">
                <img src="{{rankMedal()}}" style="width: 100%;" class="img-fluid">
                <div style="position: absolute; top: 0; width: 100%; height: 100%; text-align: center; padding-top: 53px;">
                  <span style="font-size: 28px; font-weight: bold;">{{farsiNumber(rank)}}</span>
                </div>
              </div>

              <div class="boxRowPoints">
                <div class="divStar">
                  <img src="assets/image/game/iqBaz/star.png" style="width: 100%;" class="img-fluid">
                </div>
                <div class="divPointText">
                  <span class="mainSpanPintText">
                    <span>امتیاز پاسخ های درست شما:</span>
                    <span class="spanPoint">{{farsiNumber(questionScore)}}</span>
                  </span>
                </div>
              </div>

              <div class="boxRowPoints">
                <div class="divStar">
                  <img src="assets/image/game/iqBaz/star.png" style="width: 100%;" class="img-fluid">
                </div>
                <div class="divPointText">
                  <span class="mainSpanPintText">
                    <span>امتیاز دعوت از دوستان:</span>
                    <span class="spanPoint">{{farsiNumber(referalScore)}}</span>
                  </span>
                </div>
              </div>

              <div class="boxRowPoints">
                <div class="divStar">
                  <img src="assets/image/game/iqBaz/star.png" style="width: 100%;" class="img-fluid">
                </div>
                <div class="divPointText">
                  <span class="mainSpanPintText">
                    <span>امتیاز ثبت سفارش:</span>
                    <span class="spanPoint">{{farsiNumber(requestScore)}}</span>
                  </span>
                </div>
              </div>

              <div class="boxRowPoints" *ngIf="linkScore > 0">
                <div class="divStar">
                  <img src="assets/image/game/iqBaz/star.png" style="width: 100%;" class="img-fluid">
                </div>
                <div class="divPointText">
                  <span class="mainSpanPintText">
                    <span>امتیاز بازدید لینک:</span>
                    <span class="spanPoint">{{farsiNumber(linkScore)}}</span>
                  </span>
                </div>
              </div>

              <div class="boxRowPoints" *ngIf="appScore > 0">
                <div class="divStar">
                  <img src="assets/image/game/iqBaz/star.png" style="width: 100%;" class="img-fluid">
                </div>
                <div class="divPointText">
                  <span class="mainSpanPintText">
                    <span>امتیاز نصب اپلیکیشن:</span>
                    <span class="spanPoint">{{farsiNumber(appScore)}}</span>
                  </span>
                </div>
              </div>

              <div class="boxRowPoints">
                <div class="divStar">
                  <img src="assets/image/game/iqBaz/star.png" style="width: 100%;" class="img-fluid">
                </div>
                <div class="divPointText">
                    <span class="mainSpanPintText">
                        <span>امتیاز کل:</span>
                        <span class="spanPoint">{{farsiNumber(totalScore)}}</span>
                    </span>
                </div>
              </div>

            </div>
          </div>
          <!--end col 1 pc-->
          <!--start col 2 pc-->
          <div class="d-none d-md-block col-md-4 col-lg-4 col-xl-4 clear" style="padding: 5px 10px;">
            <div style="width: 100%; height: 140px; position: relative;">
              <div style="padding-top: 25px; padding-bottom: 15px; font-size: 22px; font-weight: bold;">
                <span>امتیاز این دور از مسابقه برای شما</span>
              </div>
              <div style="position: absolute; width: 100%; height: 100%; top: 75px; text-align: center;">
                <img src="assets/image/game/iqBaz/medal.png" style="width: 130px; height: 130px;">
              </div>
              <div style="position: absolute; top: 0; width: 100%; height: 100%; text-align: center; padding-top: 110px;">
                <span style="font-size: 28px; font-weight: bold;">{{farsiNumber(roundScore)}}</span>
              </div>
            </div>
            <div class="divWhiteBlur">
              <!--start bonus-->
              <div *ngIf="bonus">
                  <div style="padding: 15px 7px; padding-top: 70px;">
                    <div style="width: 100%; text-align: center; padding-bottom: 10px;">
                      <strong class="titr">جایزه شما در این دور</strong>
                    </div>
                    <div style="width: 100%; max-width: 450px; margin: 0 auto; text-align: center; color: white; background-color:rgba(255, 64, 129, 0.3); border-radius: 7px;">
                      <div style="text-align: center; padding: 7px;">
                        <img src="{{imageBonus(bonus.type)}}" style="width: 100%; max-width: 250px; height: 70px;">
                      </div>
                      <div style="color: white; font-size: 14px; text-align: center; padding-bottom: 5px;">
                        <span>{{textBonus(bonus.type)}}</span>
                      </div>
                      <div style="color: white; font-size: 14px; text-align: center;">
                        <span>{{timeLimitBonus(bonus.type)}}</span>
                      </div>
      
                      <div style="color: white; font-size: 16px; text-align: center;">
                          <span style="padding-left: 5px;">کد تخفیف: </span>
                          <span>{{bonus.code}}</span>
                      </div>
      
                      <div style="width: 100%; height: 50px; display: flex; align-items: center; justify-content: center;">
                        <button  class="btn btn-primary" 
                        style="border-radius: 7px; width: 200px; height: 40px; display: flex; align-items: center; justify-content: center;" 
                        (click)="onBonus(bonus.type)">
                        <span>ثبت درخواست</span>
                        </button>
                      </div>
                    </div>
                  </div>
              </div>
              <!--end bonus-->
            </div>
            <!--start invite link-->
            <div style="min-height: 100px; overflow: hidden; padding-top: 10px;">
                <strong class="titr">
                  {{referalTextP1 + " " + pointOfInvite() + " " + referalTextP2}}
                </strong>
                  <div style="padding: 5px 0px;">
                    <div (click)="onCopy()" id="divReferalLink">
                      <span>{{referalLink}}</span>
                    </div>
                    <div style="display: inline-block; overflow: hidden; height: 40px; padding-right: 3px;">
                      <input type="button" value="کپی" class="btn btn-light" 
                      (click)="onCopy()"
                      style="width: 70px; outline: none; border-radius: 7px; border: 2px solid white;">
                    </div>
                  </div>
            </div>
            <!--end invite link-->

            <!--start app download-->
            <div *ngIf="storage.deviceType == 3 && showAppInfo">
                <div style="width: 100%; text-align: center;">
                  <img src="assets/image/game/iqBaz/appAndroid.png" style="width: 100%; max-width: 400px;" class="img-fluid">
                  <div style="padding-top: 5px; text-align: center; width: 100%;">
                    <a [href]="directLink" target="_blank">
                      <img src="assets/image/market/directCu.png" alt="لینک دانلود مستقیم" class="img-fluid" style="border-radius: 7px; border: 1px soild white; width: 180px;">
                    </a>
                  </div>
                </div>
            </div>
            <!--end app download-->

            <!--start go to link-->
            <div *ngIf="showLink">
              <div style="width: 100%; text-align: center;">
                <img src="assets/image/game/iqBaz/wlink.png" style="width: 100%; max-width: 400px;" class="img-fluid">
                <div style="padding-top: 5px; text-align: center; width: 100%;">
                  <input type="button" class="btn btnClick" value="اینجا کلیک کنید" (click)="onLink()">
                </div>
              </div>
            </div>
            <!--end go to link-->
          </div>
          <!--end col 2 pc-->
          <!--start col 3 pc-->
          <div class="d-none d-md-block col-md-4 col-lg-4 col-xl-4 clear" style="padding: 15px 10px;">
            <div class="divWhiteBlurFix">
              <!--start notGameOver-->
                <div style="width: 100%; padding: 5px; text-align: center; max-width: 400px; height: 230px; margin: 0 auto;">
                  <img *ngIf="gameOverShowStep1" 
                  src="assets/image/game/iqBaz/gameOver1.png"
                  style="width: 100%;" class="img-fluid">
                  <img *ngIf="!gameOverShowStep1" 
                  src="assets/image/game/iqBaz/gameOver2.png"
                  style="width: 100%;" class="img-fluid">
                </div>
                <!--end notGameOver-->

                <!--start timer-->
                <div style="width: 100%; padding: 30px 10px; text-align: center;">
                  <strong class="titr">زمان باقیمانده تا فرصت بعدی</strong>
                  <div style="padding-top: 10px;">
                    <div class="divBoxTime">
                      <span class="spanBoxTime">{{sec1text}}</span>
                    </div>
                    <div class="divBoxTime">
                      <span class="spanBoxTime">{{sec10text}}</span>
                    </div>
                    <span id="styleSpanTimeDoubleDot">:</span>
                    <div class="divBoxTime">
                      <span class="spanBoxTime">{{min1txt}}</span>
                    </div>
                    <div class="divBoxTime">
                      <span class="spanBoxTime">{{min10txt}}</span>
                    </div>
                    <span id="styleSpanTimeDoubleDot">:</span>
                    <div class="divBoxTime">
                      <span class="spanBoxTime">{{hour1txt}}</span>
                    </div>
                    <div class="divBoxTime">
                      <span class="spanBoxTime">{{hour10txt}}</span>
                    </div>
                  </div>
              </div>
              <!--end timer-->

              <!--start info date-->
              <div style="width: 100%; text-align: center; padding: 15px 5px; ">
                <div *ngIf="curectRound >= 0" class="divTextInfoRounds">
                  <span>تعداد مراحل سپری شده:</span>
                  <span class="spanNumberInfoRounds">{{farsiNumber(curectRound)}}</span>
                  <span>روز</span>
                </div>

                <div *ngIf="remindRound >= 0" class="divTextInfoRounds">
                  <span>تعداد مراحل باقیمانده:</span>
                  <span class="spanNumberInfoRounds">{{farsiNumber(remindRound)}}</span>
                  <span>روز</span>
                </div>

                <div *ngIf="allUserCnt > 0" class="divTextInfoRounds">
                  <span>تعداد شرکت کنندگان:</span>
                  <span class="spanNumberInfoRounds">{{farsiNumber(allUserCnt)}}</span>
                  <span>نفر</span>
                </div>
              </div>
              <!--end info date-->

            </div>
          </div>
          <!--end col 3 pc-->
          <!--end pc and tablet-->

          <!--start mobile-->
          <!--start col 1 mobile-->
          <div class="col-12 col-sm-12 d-block d-md-none clear" style="padding: 5px 0px;">
              <div style="width: 100%; height: 140px; position: relative;">
                <div style="padding-top: 25px; padding-bottom: 15px; font-size: 22px; font-weight: bold;">
                  <span>امتیاز این دور از مسابقه برای شما</span>
                </div>
                <div style="position: absolute; width: 100%; height: 100%; top: 75px; text-align: center;">
                  <img src="assets/image/game/iqBaz/medal.png" style="width: 130px; height: 130px;">
                </div>
                <div style="position: absolute; top: 0; width: 100%; height: 100%; text-align: center; padding-top: 110px;">
                  <span style="font-size: 28px; font-weight: bold;">{{farsiNumber(roundScore)}}</span>
                </div>
              </div>
              <div class="divWhiteBlur">
                <!--start bonus-->
                <div *ngIf="bonus">
                    <div style="padding: 15px 7px;">
                      <div style="width: 100%; text-align: center; padding-bottom: 5px; padding-top: 60px;">
                        <strong class="titr">جایزه شما در این دور</strong>
                      </div>
                      <div style="width: 100%; max-width: 450px; margin: 0 auto; text-align: center; color: white; background-color:rgba(255, 64, 129, 0.3); border-radius: 7px;">
                        <div style="text-align: center; padding: 7px;">
                          <img src="{{imageBonus(bonus.type)}}" style="width: 100%; max-width: 250px; height: 70px;">
                        </div>
                        <div style="color: white; font-size: 14px; text-align: center; padding-bottom: 5px;">
                          <span>{{textBonus(bonus.type)}}</span>
                        </div>
                        <div style="color: white; font-size: 14px; text-align: center;">
                          <span>{{timeLimitBonus(bonus.type)}}</span>
                        </div>
        
                        <div style="color: white; font-size: 16px; text-align: center;">
                            <span style="padding-left: 5px;">کد تخفیف: </span>
                            <span>{{bonus.code}}</span>
                        </div>
        
                        <div style="width: 100%; height: 50px; display: flex; align-items: center; justify-content: center;">
                          <button  class="btn btn-primary" 
                          style="border-radius: 7px; width: 200px; height: 40px; display: flex; align-items: center; justify-content: center;" 
                          (click)="onBonus(bonus.type)">
                          <span>ثبت درخواست</span>
                          </button>
                        </div>
                      </div>
                    </div>
                </div>
                <!--end bonus-->
              </div>
              <!--start invite link-->
              <div style="min-height: 100px; overflow: hidden; padding-top: 10px;">
                  <strong class="titr">
                    {{referalTextP1 + " " + pointOfInvite() + " " + referalTextP2}}
                  </strong>
                    <div style="padding: 5px 0px;">
                      <div (click)="onCopy()" id="divReferalLink">
                        <span>{{referalLink}}</span>
                      </div>
                      <div style="display: inline-block; overflow: hidden; height: 40px; padding-right: 3px;">
                        <input type="button" value="کپی" class="btn btn-light" 
                        (click)="onCopy()"
                        style="width: 70px; outline: none; border-radius: 7px; border: 2px solid white;">
                      </div>
                    </div>
              </div>
              <!--end invite link-->

              <!--start app download-->
              <div *ngIf="storage.deviceType == 3 && showAppInfo">
                <div style="width: 100%; text-align: center;">
                  <img src="assets/image/game/iqBaz/appAndroid.png" style="width: 100%; max-width: 400px;" class="img-fluid">
                  <div style="padding-top: 5px; text-align: center; width: 100%;">
                    <a [href]="directLink" target="_blank">
                      <img src="assets/image/market/directCu.png" alt="لینک دانلود مستقیم" class="img-fluid" style="border-radius: 7px; border: 1px soild white; width: 180px;">
                    </a>
                  </div>
                </div>
              </div>
              <!--end app download-->

              <!--start go to link-->
              <div *ngIf="showLink">
                <div style="width: 100%; text-align: center;">
                  <img src="assets/image/game/iqBaz/wlink.png" style="width: 100%; max-width: 400px;" class="img-fluid">
                  <div style="padding-top: 5px; text-align: center; width: 100%;">
                    <input type="button" class="btn btnClick" value="اینجا کلیک کنید" (click)="onLink()">
                  </div>
                </div>
              </div>
              <!--end go to link-->
          </div>
          <!--end col 1 mobile-->
          <!--start col 2 mobile-->
          <div class="col-12 col-sm-12 d-block d-md-none clear" style="padding: 5px 0px;">
              <div class="divWhiteBlur">
                <div style="width: 85%; margin: 0 auto; border-bottom: 1px solid black; padding-top: 25px; padding-bottom: 15px; font-size: 22px; font-weight: bold;">
                  <span>رتبه و امتیاز شما</span>
                </div>
                <div style="padding-top: 10px; padding-bottom: 5px; font-size: 16px; font-weight: bold; color: white;">
                  <span>رتبه شما</span>
                </div>
  
                <div style="width: 200px; height: 220px; margin: 0 auto; position: relative; overflow: hidden;">
                  <img src="{{rankMedal()}}" style="width: 100%;" class="img-fluid">
                  <div style="position: absolute; top: 0; width: 100%; height: 100%; text-align: center; padding-top: 53px;">
                    <span style="font-size: 28px; font-weight: bold;">{{farsiNumber(rank)}}</span>
                  </div>
                </div>
  
                <div class="boxRowPoints">
                  <div class="divStar">
                    <img src="assets/image/game/iqBaz/star.png" style="width: 100%;" class="img-fluid">
                  </div>
                  <div class="divPointText">
                    <span class="mainSpanPintText">
                      <span>امتیاز پاسخ های درست شما:</span>
                      <span class="spanPoint">{{farsiNumber(questionScore)}}</span>
                    </span>
                  </div>
                </div>
  
                <div class="boxRowPoints">
                  <div class="divStar">
                    <img src="assets/image/game/iqBaz/star.png" style="width: 100%;" class="img-fluid">
                  </div>
                  <div class="divPointText">
                    <span class="mainSpanPintText">
                      <span>امتیاز دعوت از دوستان:</span>
                      <span class="spanPoint">{{farsiNumber(referalScore)}}</span>
                    </span>
                  </div>
                </div>
  
                <div class="boxRowPoints">
                  <div class="divStar">
                    <img src="assets/image/game/iqBaz/star.png" style="width: 100%;" class="img-fluid">
                  </div>
                  <div class="divPointText">
                    <span class="mainSpanPintText">
                      <span>امتیاز ثبت سفارش:</span>
                      <span class="spanPoint">{{farsiNumber(requestScore)}}</span>
                    </span>
                  </div>
                </div>

                <div *ngIf="linkScore > 0" class="boxRowPoints">
                    <div class="divStar">
                      <img src="assets/image/game/iqBaz/star.png" style="width: 100%;" class="img-fluid">
                    </div>
                    <div class="divPointText">
                      <span class="mainSpanPintText">
                        <span>امتیاز بازدید لینک:</span>
                        <span class="spanPoint">{{farsiNumber(linkScore)}}</span>
                      </span>
                    </div>
                  </div>
    
                  <div class="boxRowPoints" *ngIf="appScore > 0">
                    <div class="divStar">
                      <img src="assets/image/game/iqBaz/star.png" style="width: 100%;" class="img-fluid">
                    </div>
                    <div class="divPointText">
                      <span class="mainSpanPintText">
                        <span>امتیاز نصب اپلیکیشن:</span>
                        <span class="spanPoint">{{farsiNumber(appScore)}}</span>
                      </span>
                    </div>
                  </div>
  
                <div class="boxRowPoints">
                  <div class="divStar">
                    <img src="assets/image/game/iqBaz/star.png" style="width: 100%;" class="img-fluid">
                  </div>
                  <div class="divPointText">
                      <span class="mainSpanPintText">
                          <span>امتیاز کل:</span>
                          <span class="spanPoint">{{farsiNumber(totalScore)}}</span>
                      </span>
                  </div>
                </div>
  
              </div>
          </div>
          <!--end col 2 mobile-->
          <!--start col 3 mobile-->
          <div class="col-12 col-sm-12 d-block d-md-none clear" style="padding: 5px 0px;">
              <div class="divWhiteBlur">
                  <!--start notGameOver-->
                  <div style="width: 100%; padding: 5px; text-align: center; margin: 0 auto; max-width: 400px; height: 230px;">
                    <img *ngIf="gameOverShowStep1" 
                    src="assets/image/game/iqBaz/gameOver1.png"
                    style="width: 100%;" class="img-fluid">
                    <img *ngIf="!gameOverShowStep1" 
                    src="assets/image/game/iqBaz/gameOver2.png"
                    style="width: 100%;" class="img-fluid">
                  </div>
                  <!--end notGameOver-->
  
                  <!--start timer-->
                  <div style="width: 100%; padding: 20px 10px; text-align: center;">
                    <span class="titr">زمان باقیمانده تا فرصت بعدی</span>
                    <div style="padding-top: 10px;">
                      <div class="divBoxTime">
                        <span class="spanBoxTime">{{sec1text}}</span>
                      </div>
                      <div class="divBoxTime">
                        <span class="spanBoxTime">{{sec10text}}</span>
                      </div>
                      <span id="styleSpanTimeDoubleDot">:</span>
                      <div class="divBoxTime">
                        <span class="spanBoxTime">{{min1txt}}</span>
                      </div>
                      <div class="divBoxTime">
                        <span class="spanBoxTime">{{min10txt}}</span>
                      </div>
                      <span id="styleSpanTimeDoubleDot">:</span>
                      <div class="divBoxTime">
                        <span class="spanBoxTime">{{hour1txt}}</span>
                      </div>
                      <div class="divBoxTime">
                        <span class="spanBoxTime">{{hour10txt}}</span>
                      </div>
                    </div>
                </div>
                <!--end timer-->
  
                <!--start info date-->
                <div style="width: 100%; text-align: center; padding: 10px 5px;">
                  <div *ngIf="curectRound >= 0" class="divTextInfoRounds">
                    <span>تعداد مراحل سپری شده:</span>
                    <span class="spanNumberInfoRounds">{{farsiNumber(curectRound)}}</span>
                    <span>روز</span>
                  </div>
  
                  <div *ngIf="remindRound >= 0" class="divTextInfoRounds">
                    <span>تعداد مراحل باقیمانده:</span>
                    <span class="spanNumberInfoRounds">{{farsiNumber(remindRound)}}</span>
                    <span>روز</span>
                  </div>
  
                  <div *ngIf="allUserCnt > 0" class="divTextInfoRounds">
                    <span>تعداد شرکت کنندگان:</span>
                    <span class="spanNumberInfoRounds">{{farsiNumber(allUserCnt)}}</span>
                    <span>نفر</span>
                  </div>
                </div>
                <!--end info date-->
  
              </div>
          </div>
          <!--end col 3 mobile-->
          <!--end mobile-->
        </div>
      </div>
      <!--end content strat game level-->

    </div>
  </div>
  <!----start footer---->
  <app-footer-iqbaz></app-footer-iqbaz>
  <!----end footer---->
</div>

